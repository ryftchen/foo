#1.cmake version
CMAKE_MINIMUM_REQUIRED(VERSION 3.0)

#2.project name
PROJECT(foo)

#3.head file path
INCLUDE_DIRECTORIES(include)

#4.source directory
AUX_SOURCE_DIRECTORY(source SOURCE_LIST)
AUX_SOURCE_DIRECTORY(library LIBRARY_LIST)

#5.set environment variable
SET(CMAKE_DEBUG 1)
IF(CMAKE_DEBUG)
    SET(BUILD_TYPE "Debug")
ELSE()
    SET(BUILD_TYPE "Release")
ENDIF()
SET(CXX_COMPILER "/usr/bin/g++")
SET(CXX_FLAGS "-std=c++20 -Wall -fmax-errors=5")
SET(FLAGS_DEBUG "-g3 -ggdb -O0")
SET(FLAGS_RELEASE "-s -O3")

SET(CMAKE_EXPORT_COMPILE_COMMANDS ON)
SET(CMAKE_BUILD_TYPE ${BUILD_TYPE})
SET(CMAKE_CXX_COMPILER ${CXX_COMPILER})
SET(CMAKE_CXX_FLAGS_DEBUG "${CXX_FLAGS} ${FLAGS_DEBUG}")
SET(CMAKE_CXX_FLAGS_RELEASE "${CXX_FLAGS} ${FLAGS_RELEASE}")

#6.add executable file
ADD_EXECUTABLE(foo ${SOURCE_LIST} ${LIBRARY_LIST})
#ADD_LIBRARY(common SHARED ${LIBRARY_LIST})
#ADD_EXECUTABLE(foo ${SOURCE_LIST})

#7.add link library
TARGET_LINK_LIBRARIES(foo pthread mpfr)
#TARGET_LINK_LIBRARIES(foo common mpfr)
